---
- summary: |
    Проверка входа пользователя с несуществующими логином и паролем
  requirement: |
    При неправильном логине или пароле пользователь должен получить сообщение об ошибке
  prerequisites: |
    Открыта страница логина
  test-data: |
    Тестовые данные
    email = ilona@gmail.com Password = password
  steps:
    - Вводим email
    - Вводим password
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен получить сообщение об ошибке

- summary: |
    Регистрация нового пользователя с валидными данными
  requirement: |
    Пользователь должен иметь возможность создавать аккаунт
  prerequisites: |
    Открыта страница регистрации "Sign up"
  test-data: |
    Nickname = User2025
    Email = user@example.com  
    Пароль = StrongPass123$
  steps:
    - Вводим nickname
    - Вводим email
    - Вводим password
    - Повторяем password
    - Нажимаем кнопку «Sign up»
  expected-result: |
    Аккаунт создан, пользователь автоматически авторизован и перенаправлен на главную страницу

- summary: |
    Вход и выход из системы с корректными данными
  requirement: |
    Пользователь должен иметь возможность входить в систему и выходить из неё (login/logout)
  prerequisites: |
    Зарегистрирован пользователь  
    Открыта страница логина "Sign in"
  test-data: |
    Email = user@example.com  
    Password = StrongPass123$
  steps:
    - Вводим email
    - Вводим password
    - Нажимаем кнопку «Submit»
    - После авторизации нажимаем на свою аватарку и нажимаем «Sign out»
  expected-result: |
    Пользователь успешно входит в систему, видит свой профиль, затем выходит и возвращается на главную страницу 

- summary: |
    Восстановление пароля через email
  requirement: |
    Пользователь должен иметь возможность восстановить пароль
  prerequisites: |
    Открыта страница логина  
    Нет активной сессии
  test-data: |
    Email = user@example.com
  steps:
    - Нажимаем «Forgot your password?»
    - Вводим зарегистрированный email
    - Переходим по ссылке из письма
    - Вводим новый пароль и подтверждение
  expected-result: |
    Появляется уведомление, после входа новым паролем — доступ разрешён

- summary: |
    Смена пароля в личном кабинете
  requirement: |
    Пользователь должен иметь возможность сменить пароль
  prerequisites: |
    Пользователь авторизован  
    Открыт личный кабинет
  test-data: |
    Текущий пароль = StrongPass123$
    Новый пароль = NewPass456@
  steps:
    - Переходим в «Настройки аккаунта»
    - Вводим текущий пароль
    - Вводим новый пароль и подтверждаем
    - Нажимаем «Сохранить»
  expected-result: |
    Пароль обновлён, при входе старый пароль не принимается, новый — работает

- summary: |
    Создание новой игры с выбранным уровнем сложности
  requirement: |
    Пользователь должен иметь возможность создавать игру и выбирать уровень сложности
  prerequisites: |
    Пользователь авторизован  
    Открыта главная страница
  test-data: |
    Level = 2 звезды
    Game type = "With a bot"
  steps:
    - Нажимаем «Create a game»
    - Выбираем Level = 2 звезды
    - Выбираем Game type = "With a bot"
    - Нажимаем "Create battle"
  expected-result: |
    Игра создаётся, новая игра отображается в твоем Lobby

- summary: |
    Приглашение друга в игру
  requirement: |
    Пользователь должен иметь возможность приглашать друга в игру при ее создании
  prerequisites: |
    Ползователь находится на странице создания игры
  test-data: |
    Любой участник игры
  steps:
    - Выбираем Game type = "With the friend"
    - Выбираем ник активного пользователя
  expected-result: |
    У первого пользователя в аккаунте отображается уведомление о благополучной отправке приглашения, а второй пользователь получает  уведомление о приглашении в игру

- summary: |
    Одновременное отображение редактора кода и вывода тестов в реальном времени
  requirement: |
    Пользователь должен иметь возможность во время матча видеть редактор кода и вывод тестов
  prerequisites: |
    Оба игрока (или игрок и бот) присоединены к игре  
    Игра запущена
  test-data: |
    Код задачи: простая функция сложения
  steps:
    - Один игрок вводит код
    - Запускает тесты
    - Другой игрок наблюдает за редактором и выводом
  expected-result: |
    Оба игрока видят вводимый код и результаты тестов в реальном времени

- summary: |
    Смена языка программирования во время матча
  requirement: |
    Пользователь должен иметь возможность менять язык во время матча
  prerequisites: |
    Игра запущена  
    Оба игрока в редакторе
  test-data: |
    Начальный язык = JavaScript  
    Новый язык = Python
  steps:
    - Открываем выпадающий список языков
    - Выбираем «Python»
  expected-result: |
    Редактор и подсветка кода переключаются на Python без перезагрузки страницы

- summary: |
    Наблюдение за чужой игрой (spectator mode)
  requirement: |
    Пользователь может следить за ходом чужих матчей в режиме реального времени
  prerequisites: |
    Есть запущенная чужая игра  
    Открыта страница списка игр
  test-data: |
    Выбранная игра из списка
  steps:
    - Нажимаем «Наблюдать» напротив чужой игры
  expected-result: |
    Открывается окно с редактором и выводом тестов участников, без возможности редактировать

- summary: |
    Проверка работы чата внутри игры
  requirement: |
    Пользователь должен иметь возможность использовать чат внутри игры в режиме реального времени
  prerequisites: |
    Игра запущена  
    Два участника в лобби
  test-data: |
    Сообщение = «Привет, удачи!»  
    Ответ = «Спасибо!»
  steps:
    - Отправляем сообщение «Привет, удачи!»
    - Второй участник отвечает «Спасибо!»
  expected-result: |
    Оба сообщения мгновенно отображаются у обоих участников

- summary: |
    Воспроизведение завершённой игры через проигрыватель
  requirement: |
    После прохождения игры пользователь должен иметь возможность проиграть игру в проигрывателе
  prerequisites: |
    Существует хотя бы одна завершённая игра в профиле
  test-data: |
    Выбранная завершённая игра
  steps:
    - Переходим My profile
    - Переходим в Completed Games
    - В списке игр нажимаем «Show»
  expected-result: |
    Открывается проигрыватель, по шагам воспроизводится код и прохождение тестов

- summary: |
    Просмотр очков и рейтинга за разные периоды
  requirement: |
    Каждый пользователь должен иметь возможность просмотреть посчитанные очки и свой рейтинг в таблицах: за неделю, за месяц и за всё время
  prerequisites: |
    Пользователь авторизован и участвовал в играх
  test-data: |
    Периоды = «Неделя», «Месяц», «Все время»
  steps:
    - Переходим в раздел «My Profile»
    - Выбираем период «Неделя», «Месяц» или «Все время»
  expected-result: |
    Для каждого выбранного периода отображается корректная таблица рейтинга с позициями и очками пользователя

- summary: |
    Проверка адаптивности интерфейса на мобильных устройствах
  requirement: |
    Сайт должен корректно отображаться на мобильных устройствах
  prerequisites: |
    Открыты мобильные эмуляторы для iOS и Android
  test-data: |
    Страницы: Главная, Лобби игры, Игровой экран
  steps:
    - Открыть каждую страницу в портретном и ландшафтном режиме эмулятора
    - Проверить доступность меню, редактора, кнопок
  expected-result: |
    Все элементы видимы, не перекрываются, меню открывается и закрывается без багов

- summary: |
    Проверка перевода задач на английский и русский язык
  requirement: |
    Задачи должны иметь полную поддержку русского и английского языков
  prerequisites: |
    Пользователь авторизован  
    Игра создана и начата
    Задача в игре доступна как на английском, так и на русском языке. 
  test-data: |
    Языки = Russian, Englih
  steps:
    - Кликнуть на кнопку выбора языка → выбрать «English»  
    - Проверить, что задача переведена на английский язык
    - Повторить для «Russian»
  expected-result: |
    Задача полностью переведена на выбранный язык

- summary: |
    Проверка активности Telegram-канала разработчиков
  requirement: |
    Сообщество взаимодействует через Telegram-канал
  prerequisites: |
    Доступ в Telegram
  test-data: |
    Ссылка = https://t.me/codebattle
  steps:
    - Перейти по ссылке в браузере или мобильном приложении  
    - Убедиться, что канал существует и появляются новые сообщения
  expected-result: |
    Канал открыт, последние сообщения не старше недели

- summary: |
    Проверка работоспособности Chrome-extension
  requirement: |
    Возможность разработки и поддержки Chrome-extension
  prerequisites: |
    Собран и загружен в режиме разработчика Chrome-extension из репозитория
  test-data: |
    Страница сайта Codebattle в браузере
  steps:
    - Установить extension в Chrome  
    - Открыть любую страницу Codebattle  
    - Проверить, что extension инициализируется и добавляет ожидаемый UI (например, кнопки или подсветку)
  expected-result: |
    Расширение загружается без ошибок, интегрируется с сайтом согласно спецификации

